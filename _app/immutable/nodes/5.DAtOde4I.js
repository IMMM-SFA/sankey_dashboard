import{a as x,t as w}from"../chunks/disclose-version.D2tESqhP.js";import"../chunks/legacy.DobxsTqr.js";import{p as Ue,l as Se,a as ke,b as Me,s as y,c as i,d,r as l,t as U,g as e,m as h}from"../chunks/runtime.DlkffFwX.js";import{s as S}from"../chunks/render.Bgzz3nrl.js";import{e as k,i as M}from"../chunks/each.CQDwI71U.js";import{r as D,s as g}from"../chunks/attributes.DK1voP7J.js";import{e as De}from"../chunks/events.BRcrOaZu.js";import{P as se,b as L}from"../chunks/papaparse.min.PHBgkm3Y.js";import{i as Le}from"../chunks/lifecycle.C0YD5g_r.js";import{o as He}from"../chunks/index-client.RC-MTrHY.js";import{b as Ae}from"../chunks/paths.D4uvyehR.js";import"../chunks/functions.DQ1eNffz.js";var Ce=w('<div><input type="radio" name="rcps"> <label> </label></div>'),Re=w('<div><input type="radio" name="ssps"> <label> </label></div>'),We=w('<div><input type="radio" name="diagram"> <label> </label></div>'),je=w('<div><input type="radio" name="waterUnits"> <label> </label></div>'),ze=w('<div><input type="radio" name="energyUnits"> <label> </label></div>'),Be=w('<div class="relative flex flex-col my-6 bg-white m-8"><div id="data" class="relative flex h-full w-full max-w-[90rem] p-8 flex-col rounded-xl bg-white bg-clip-border text-gray-700 border-2"><div class="p-2 mb-2"><h1 class="mb-0 text-slate-800 text-3xl font-semibold">Download Data</h1></div> <nav class="flex min-w-[240px] flex-col gap-3 mb-8 font-sans text-base font-normal text-blue-gray-700"><div role="contentinfo" class="flex items-center w-full p-3 leading-tight transition-all rounded-lg outline-none text-start hover:bg-blue-gray-50 hover:bg-opacity-80 hover:text-blue-gray-900 focus:bg-blue-gray-50 focus:bg-opacity-80 focus:text-blue-gray-900 active:bg-blue-gray-50 active:bg-opacity-80 active:text-blue-gray-900"><div class="grid mr-0 place-items-center"></div> <div class="group flex relative"><span>Fossil-fuel Emphasis Scenario</span></div></div> <div class="flex-row leading-normal pl-10 font-light h-6 bg-[#FFFFFF] items-center gap-8 text-[#000000]"><fieldset><div class="flex flex-row gap-5"></div></fieldset></div> <div role="contentinfo" class="flex items-center w-full p-3 leading-tight transition-all rounded-lg outline-none text-start hover:bg-blue-gray-50 hover:bg-opacity-80 hover:text-blue-gray-900 focus:bg-blue-gray-50 focus:bg-opacity-80 focus:text-blue-gray-900 active:bg-blue-gray-50 active:bg-opacity-80 active:text-blue-gray-900"><div class="grid mr-0 place-items-center"></div> <div class="group flex relative"><span>Population & Economic Growth Scenario:</span></div></div> <div class="flex leading-normal pl-10 font-light h-6 bg-[#FFFFFF] items-center gap-8 text-[#000000]"><fieldset><div class="flex flex-row gap-5"></div></fieldset></div> <div role="contentinfo" class="flex items-center w-full p-3 leading-tight transition-all rounded-lg outline-none text-start hover:bg-blue-gray-50 hover:bg-opacity-80 hover:text-blue-gray-900 focus:bg-blue-gray-50 focus:bg-opacity-80 focus:text-blue-gray-900 active:bg-blue-gray-50 active:bg-opacity-80 active:text-blue-gray-900"><div class="grid mr-0 place-items-center"></div> <div class="group flex relative"><span>Select Flow Data:</span></div></div> <div class="flex leading-normal pl-10 font-light h-6 bg-[#FFFFFF] items-center gap-8 text-[#000000]"><fieldset><div class="flex flex-row  top-15 gap-2"></div></fieldset></div> <div role="contentinfo" class="flex items-center w-full p-3 leading-tight transition-all rounded-lg outline-none text-start hover:bg-blue-gray-50 hover:bg-opacity-80 hover:text-blue-gray-900 focus:bg-blue-gray-50 focus:bg-opacity-80 focus:text-blue-gray-900 active:bg-blue-gray-50 active:bg-opacity-80 active:text-blue-gray-900"><div class="grid mr-0 place-items-center"></div> <div class="group flex relative"><span>Select Water Units:</span></div></div> <div class="flex leading-normal pl-10 font-light h-6 bg-[#FFFFFF] items-center gap-8 text-[#000000]"><fieldset><div class="flex flex-row  top-15 gap-2"></div></fieldset></div> <div role="contentinfo" class="flex items-center w-full p-3 leading-tight transition-all rounded-lg outline-none text-start hover:bg-blue-gray-50 hover:bg-opacity-80 hover:text-blue-gray-900 focus:bg-blue-gray-50 focus:bg-opacity-80 focus:text-blue-gray-900 active:bg-blue-gray-50 active:bg-opacity-80 active:text-blue-gray-900"><div class="grid mr-0 place-items-center"></div> <div class="group flex relative"><span>Select Energy Units:</span></div></div> <div class="flex leading-normal pl-10 font-light h-6 bg-[#FFFFFF] items-center gap-8 text-[#000000]"><fieldset><div class="flex flex-row  top-15 gap-2"></div></fieldset></div> <div class="pt-8"><button class="bg-gray-200 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center"><svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"></path></svg> <span>Download Selected Data</span></button></div></nav></div></div>');function Ye(ne,ve){Ue(ve,!1);const ce=[],de=[],ue=[],ge=[],pe=[],fe={all:"All",ssp3:"Low",ssp5:"High"},be={all:"All",rcp45:"Low",rcp85:"High"},_e={km3:"Cubic Kilometers",billion_gallons:"Billion Gallons",million_acre_ft:"Million Acre-Feet"},me={EJ:"Exajoules",quads:"Quads",terawatt_hours:"Terawatt-hours"},V=["all","ssp3","ssp5"];let p=h(V[0]);const q=["all","rcp45","rcp85"];let f=h(q[0]),A=["cooler","hotter"][0];const G=["Energy & Water","Energy","Water"];let b=h(G[0]);const J=["km3","billion_gallons","million_acre_ft"];let _=h(J[0]);const O=["EJ","quads","terawatt_hours"];let m=h(O[0]),F=h();He(()=>{fetch(`${Ae}/energy_water_data.csv`).then(r=>{if(!r.ok)throw new Error("Network response was not ok");return r.text()}).then(r=>se.parse(r,{header:!0}).data).then(r=>{y(F,r)}).catch(r=>console.error("Error loading CSV file:",r))});function xe(r,t,o,a,n,s,u){if(!r.length)return;const v=[s,u];let H;t==="all"?H=r.filter(c=>c.climate_sensitivity===a&&c.diagram===n&&v.includes(c.units)):H=r.filter(c=>c.ssp===t&&c.climate_sensitivity===a&&c.diagram===n&&v.includes(c.units));let P;o==="all"?P=H:P=H.filter(c=>c.rcp===o);const he=["rcp","ssp","source","target","year","unit_value","units","diagram"],we=P.map(c=>{let re={};return he.forEach(oe=>{re[oe]=c[oe]}),re}),Fe=se.unparse(we),Ee=new Blob([Fe],{type:"text/csv;charset=utf-8;"}),ie=URL.createObjectURL(Ee),E=document.createElement("a");E.setAttribute("href",ie),E.setAttribute("download","sankey_data_download.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(ie)}Se(()=>(e(F),e(p),e(f),e(b),e(m),e(_)),()=>{e(F)&&e(p)&&e(f)&&A&&e(b)&&e(m)&&e(_)&&initializeHybridSankey(e(F),e(p),e(f),A,e(b),e(m),e(_))}),ke(),Le();var C=Be(),T=i(C),I=d(i(T),2),R=d(i(I),2),K=i(R),N=i(K);k(N,5,()=>q,M,(r,t)=>{var o=Ce(),a=i(o);D(a);var n,s=d(a,2),u=i(s,!0);l(s),l(o),U(()=>{g(a,"id",e(t)),n!==(n=e(t))&&(a.value=(a.__value=e(t))==null?"":e(t)),g(s,"for",e(t)),S(u,be[e(t)])}),L(ce,[],a,()=>(e(t),e(f)),v=>y(f,v)),x(r,o)}),l(N),l(K),l(R);var W=d(R,4),Q=i(W),$=i(Q);k($,5,()=>V,M,(r,t)=>{var o=Re(),a=i(o);D(a);var n,s=d(a,2),u=i(s,!0);l(s),l(o),U(()=>{g(a,"id",e(t)),n!==(n=e(t))&&(a.value=(a.__value=e(t))==null?"":e(t)),g(s,"for",e(t)),S(u,fe[e(t)])}),L(de,[],a,()=>(e(t),e(p)),v=>y(p,v)),x(r,o)}),l($),l(Q),l(W);var j=d(W,4),X=i(j),Y=i(X);k(Y,5,()=>G,M,(r,t)=>{var o=We(),a=i(o);D(a);var n,s=d(a,2),u=i(s,!0);l(s),l(o),U(()=>{g(a,"id",e(t)),n!==(n=e(t))&&(a.value=(a.__value=e(t))==null?"":e(t)),g(s,"for",e(t)),S(u,e(t))}),L(ue,[],a,()=>(e(t),e(b)),v=>y(b,v)),x(r,o)}),l(Y),l(X),l(j);var z=d(j,4),Z=i(z),ee=i(Z);k(ee,5,()=>J,M,(r,t)=>{var o=je(),a=i(o);D(a);var n,s=d(a,2),u=i(s,!0);l(s),l(o),U(()=>{g(a,"id",e(t)),n!==(n=e(t))&&(a.value=(a.__value=e(t))==null?"":e(t)),g(s,"for",e(t)),S(u,_e[e(t)])}),L(ge,[],a,()=>(e(t),e(_)),v=>y(_,v)),x(r,o)}),l(ee),l(Z),l(z);var B=d(z,4),te=i(B),ae=i(te);k(ae,5,()=>O,M,(r,t)=>{var o=ze(),a=i(o);D(a);var n,s=d(a,2),u=i(s,!0);l(s),l(o),U(()=>{g(a,"id",e(t)),n!==(n=e(t))&&(a.value=(a.__value=e(t))==null?"":e(t)),g(s,"for",e(t)),S(u,me[e(t)])}),L(pe,[],a,()=>(e(t),e(m)),v=>y(m,v)),x(r,o)}),l(ae),l(te),l(B);var le=d(B,2),ye=i(le);l(le),l(I),l(T),l(C),De("click",ye,()=>xe(e(F),e(p),e(f),A,e(b),e(m),e(_))),x(ne,C),Me()}export{Ye as component};
